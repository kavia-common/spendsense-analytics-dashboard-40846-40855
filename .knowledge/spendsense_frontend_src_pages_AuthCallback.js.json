{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for handling OAuth callback after sign-in, including session validation, error handling, and redirection logic.", "external_files": ["../components/ui/LoadingState", "../components/Layout", "../lib/supabaseClient", "../lib/logger", "react", "react-router-dom"], "external_methods": ["useNavigate", "useEffect", "useMemo", "useState", "supabase.auth.getSession"], "published": ["default"], "classes": [], "methods": [{"name": "parseReturnToFromState(stateValue)", "description": "Parses the 'state' parameter from OAuth response to retrieve the 'returnTo' route.", "scope": "", "scopeKind": ""}, {"name": "readReturnToFromStorage()", "description": "Reads the stored 'returnTo' route from session storage, ensuring it's a safe in-app route.", "scope": "", "scopeKind": ""}, {"name": "clearReturnToStorage()", "description": "Removes the 'returnTo' route from session storage.", "scope": "", "scopeKind": ""}, {"name": "AuthCallbackPage()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "finalize()", "scope": "AuthCallbackPage", "scopeKind": "function", "description": "unavailable"}], "calls": ["useNavigate()", "useEffect()", "useMemo()", "useState()", "sessionStorage.getItem()", "sessionStorage.removeItem()", "window.location.search", "decodeURIComponent()", "JSON.parse()", "sessionStorage.setItem()", "supabase.auth.getSession()", "logger.info()", "logger.warn()", "logger.error()", "navigate()", "window.setTimeout()", "Layout", "LoadingState"], "search-terms": ["AuthCallback", "OAuth redirect handling", "Supabase session", "React sign-in callback", "session restoration", "redirect logic", "auth flow", "OAuth error handling"], "state": 2, "file_id": 34, "knowledge_revision": 136, "git_revision": "845b156aff64d8812394b1b795004e774c9f97c6", "revision_history": [{"92": "d5376a5a591f58c9b338c764a3fa3c47c7f78c5d"}, {"136": "845b156aff64d8812394b1b795004e774c9f97c6"}], "ctags": [{"_type": "tag", "name": "AuthCallbackPage", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^export default function AuthCallbackPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "RETURN_TO_STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^const RETURN_TO_STORAGE_KEY = \"spendsense.auth.returnTo\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearReturnToStorage", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^function clearReturnToStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "finalize", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^    async function finalize() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "AuthCallbackPage", "scopeKind": "function"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^const logger = getLogger();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseReturnToFromState", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^function parseReturnToFromState(stateValue) {$/", "language": "JavaScript", "kind": "function", "signature": "(stateValue)"}, {"_type": "tag", "name": "readReturnToFromStorage", "path": "/home/kavia/workspace/code-generation/spendsense-analytics-dashboard-40846-40855/spendsense_frontend/src/pages/AuthCallback.js", "pattern": "/^function readReturnToFromStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "e867f89c83ac302f82b336416af142eb", "format-version": 4, "code-base-name": "spendsense_frontend", "filename": "spendsense_frontend/src/pages/AuthCallback.js"}